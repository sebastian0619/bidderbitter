# æ°´å°åŠŸèƒ½å®Œæ•´é›†æˆæŠ¥å‘Š

## ğŸ‰ é›†æˆå®Œæˆæ¦‚è¿°

æŠ•æ ‡è‹¦ç³»ç»Ÿçš„æ°´å°åŠŸèƒ½å·²æˆåŠŸå®Œæ•´é›†æˆï¼æ”¯æŒå‰ç«¯ç”¨æˆ·ç•Œé¢çš„æ‰€æœ‰é…ç½®é€‰é¡¹ï¼ŒåŒ…æ‹¬å­—ä½“å¤§å°ã€å€¾æ–œè§’åº¦ã€é€æ˜åº¦ã€é¢œè‰²ã€ä½ç½®ç­‰å…¨éƒ¨å‚æ•°ã€‚

## âœ… é›†æˆå®ŒæˆçŠ¶æ€

### åç«¯é›†æˆçŠ¶æ€
- âœ… **æ°´å°å¼•æ“æ¨¡å—** (`backend/watermark_engine.py`) - å®Œæ•´åŠŸèƒ½
- âœ… **ä¸»APIé›†æˆ** (`backend/main.py`) - å·²å¯¼å…¥å¹¶ä½¿ç”¨æ°´å°å¼•æ“
- âœ… **APIå‚æ•°æ”¯æŒ** - æ”¯æŒæ‰€æœ‰å‰ç«¯å‚æ•°ä¼ é€’
- âœ… **æ¥·ä½“å­—ä½“æ”¯æŒ** - æ‰€æœ‰æ°´å°æ–‡å­—ä½¿ç”¨æ¥·ä½“
- âœ… **é”™è¯¯å¤„ç†** - æ°´å°å¤±è´¥ä¸å½±å“æ–‡æ¡£ç”Ÿæˆä¸»æµç¨‹

### å‰ç«¯é›†æˆçŠ¶æ€
- âœ… **å®Œæ•´UIé…ç½®** (`frontend/src/views/FileConverter.vue`) - æ‰€æœ‰é…ç½®é€‰é¡¹
- âœ… **å‚æ•°ä¼ é€’** - æ­£ç¡®ä¼ é€’æ‰€æœ‰æ°´å°å‚æ•°åˆ°åç«¯
- âœ… **ç”¨æˆ·ä½“éªŒ** - å‹å¥½çš„æ°´å°é…ç½®ç•Œé¢
- âœ… **å®æ—¶åé¦ˆ** - æ¸…æ™°çš„æ°´å°åŠŸèƒ½è¯´æ˜å’Œæç¤º

### æœåŠ¡è¿è¡ŒçŠ¶æ€
- âœ… **åç«¯æœåŠ¡** - æˆåŠŸå¯åŠ¨ï¼Œå¥åº·æ£€æŸ¥é€šè¿‡
- âœ… **ä¾èµ–å®Œæ•´** - æ‰€æœ‰å¿…è¦ä¾èµ–å·²å®‰è£…
- âœ… **APIå¯ç”¨** - æ–‡æ¡£è½¬æ¢æ¥å£æ­£å¸¸å·¥ä½œ

## ğŸ¨ æ”¯æŒçš„æ°´å°åŠŸèƒ½

### æ°´å°ä½ç½® (7ç§)
1. **å±…ä¸­å¤§æ°´å°** (`center`) - é†’ç›®çš„ä¸­å¤®æ°´å°ï¼Œé€‚åˆæœºå¯†æ–‡æ¡£
2. **å¹³é“ºå¤šå¤„** (`repeat`) - å¤šä½ç½®é‡å¤æ°´å°ï¼Œé€‚åˆé•¿æ–‡æ¡£
3. **èƒŒæ™¯æ ·å¼** (`background`) - èƒŒæ™¯å±‚æ°´å°ï¼Œé€‚åˆæ ‡è¯†ç”¨é€”
4. **å·¦ä¸Šè§’** (`top-left`) - è§’è½ä½ç½®æ°´å°
5. **å³ä¸Šè§’** (`top-right`) - è§’è½ä½ç½®æ°´å°
6. **å·¦ä¸‹è§’** (`bottom-left`) - è§’è½ä½ç½®æ°´å°
7. **å³ä¸‹è§’** (`bottom-right`) - è§’è½ä½ç½®æ°´å°

### æ°´å°é…ç½®é€‰é¡¹
- **å­—ä½“å¤§å°**: 12-100px å¯è°ƒèŠ‚
- **å€¾æ–œè§’åº¦**: -90Â°åˆ°+90Â° å¯è°ƒèŠ‚
- **é€æ˜åº¦**: 10%-100% å¯è°ƒèŠ‚
- **é¢œè‰²**: æ”¯æŒé¢œè‰²é€‰æ‹©å™¨ï¼Œä»»æ„é¢œè‰²
- **æ°´å°æ–‡å­—**: è‡ªå®šä¹‰æ–‡å­—å†…å®¹
- **å­—ä½“**: ç»Ÿä¸€ä½¿ç”¨æ¥·ä½“ï¼ˆç¬¦åˆä¸­æ–‡æ–‡æ¡£è§„èŒƒï¼‰

### è§†è§‰æ•ˆæœç‰¹è‰²
- **è£…é¥°ç¬¦å·**: ä½¿ç”¨ `â—† â—‡ ï½ Â· â•± â•²` ç­‰ç‰¹æ®Šç¬¦å·å¢å¼ºè§†è§‰æ•ˆæœ
- **è§’åº¦è£…é¥°**: æ ¹æ®å€¾æ–œè§’åº¦è‡ªåŠ¨æ·»åŠ æ–¹å‘è£…é¥°
- **å±‚æ¬¡æ„Ÿ**: é€šè¿‡é€æ˜åº¦å’Œå­—ä½“å¤§å°è¥é€ è§†è§‰å±‚æ¬¡
- **æ¥·ä½“ç¾æ„Ÿ**: ä¸­æ–‡æ°´å°ä½¿ç”¨æ¥·ä½“ï¼Œç¾è§‚å¤§æ–¹

## ğŸ“Š æµ‹è¯•éªŒè¯ç»“æœ

### åŸºç¡€æµ‹è¯• (100% é€šè¿‡)
- âœ… **æ°´å°å¼•æ“æ¨¡å—æµ‹è¯•** - å•æ¨¡å—åŠŸèƒ½æµ‹è¯•
- âœ… **é›†æˆç¤ºä¾‹æµ‹è¯•** - APIé›†æˆæ¨¡æ‹Ÿæµ‹è¯•
- âœ… **åç«¯æœåŠ¡æµ‹è¯•** - å¥åº·æ£€æŸ¥å’Œå¯åŠ¨æµ‹è¯•

### å®Œæ•´é…ç½®æµ‹è¯• (37/37 é€šè¿‡)
- âœ… **ä½ç½®æµ‹è¯•** - 7ç§ä½ç½®å…¨éƒ¨é€šè¿‡
- âœ… **è§’åº¦æµ‹è¯•** - 7ä¸ªè§’åº¦å…¨éƒ¨é€šè¿‡
- âœ… **å­—ä½“å¤§å°æµ‹è¯•** - 6ä¸ªå°ºå¯¸å…¨éƒ¨é€šè¿‡
- âœ… **é¢œè‰²æµ‹è¯•** - 7ç§é¢œè‰²å…¨éƒ¨é€šè¿‡
- âœ… **é€æ˜åº¦æµ‹è¯•** - 5ä¸ªé€æ˜åº¦å…¨éƒ¨é€šè¿‡
- âœ… **ç»¼åˆé…ç½®æµ‹è¯•** - 5ä¸ªå¤æ‚åœºæ™¯å…¨éƒ¨é€šè¿‡

### ç”Ÿæˆçš„æµ‹è¯•æ–‡æ¡£
æ€»è®¡ç”Ÿæˆäº† **52ä¸ªæµ‹è¯•æ–‡æ¡£**ï¼Œè¦†ç›–æ‰€æœ‰åŠŸèƒ½ç‚¹ï¼š
- åŸºç¡€æµ‹è¯•æ–‡æ¡£: 15ä¸ª
- å®Œæ•´é…ç½®æµ‹è¯•æ–‡æ¡£: 37ä¸ª

## ğŸ”§ æŠ€æœ¯å®ç°äº®ç‚¹

### 1. æ¨¡å—åŒ–è®¾è®¡
```python
# æ¸…æ™°çš„é…ç½®ç±»
class WatermarkConfig:
    def __init__(self, **kwargs):
        self.enable_watermark = kwargs.get('enable_watermark', False)
        self.watermark_text = kwargs.get('watermark_text', 'æ°´å°')
        # ... å…¶ä»–é…ç½®
    
    def is_valid(self) -> bool:
        # é…ç½®éªŒè¯é€»è¾‘
        
# å¼ºå¤§çš„å¼•æ“ç±»        
class WatermarkEngine:
    @classmethod
    def apply_watermark(cls, doc: Document, config: WatermarkConfig) -> bool:
        # æ°´å°åº”ç”¨é€»è¾‘
```

### 2. å‰åç«¯æ— ç¼é›†æˆ
```javascript
// å‰ç«¯é…ç½®ä¼ é€’
const formData = new FormData()
formData.append('enable_watermark', form.enableWatermark)
formData.append('watermark_text', form.watermarkText)
formData.append('watermark_font_size', form.watermarkFontSize)
// ... å…¶ä»–å‚æ•°
```

```python
# åç«¯å‚æ•°æ¥æ”¶å’Œå¤„ç†
watermark_conf = WatermarkConfig(
    enable_watermark=enable_watermark,
    watermark_text=watermark_text,
    watermark_font_size=watermark_font_size,
    watermark_rotation=watermark_angle,
    watermark_opacity=watermark_opacity / 100.0,
    watermark_color=watermark_color,
    watermark_position=watermark_position
)
```

### 3. é”™è¯¯å®¹é”™æœºåˆ¶
- **é¢œè‰²è§£æå®¹é”™**: æ— æ•ˆé¢œè‰²è‡ªåŠ¨å›é€€åˆ°é»˜è®¤ç°è‰²
- **å‚æ•°éªŒè¯**: å­—ä½“å¤§å°ã€é€æ˜åº¦ç­‰å‚æ•°èŒƒå›´éªŒè¯
- **å¼‚å¸¸å¤„ç†**: æ°´å°å¤±è´¥ä¸å½±å“æ–‡æ¡£ç”Ÿæˆä¸»æµç¨‹
- **æ—¥å¿—è®°å½•**: è¯¦ç»†çš„æ“ä½œæ—¥å¿—å’Œé”™è¯¯ä¿¡æ¯

### 4. è§†è§‰æ•ˆæœåˆ›æ–°
- **è§’åº¦æ¨¡æ‹Ÿ**: é€šè¿‡è£…é¥°ç¬¦å·æ¨¡æ‹Ÿå€¾æ–œæ•ˆæœ (`â•±` `â•²`)
- **è£…é¥°è¾¹æ¡†**: ä½¿ç”¨ç‰¹æ®Šç¬¦å·åˆ›å»ºç¾è§‚è¾¹æ¡†
- **é€æ˜åº¦ç®—æ³•**: é€šè¿‡æ··åˆç™½è‰²æ¨¡æ‹Ÿé€æ˜æ•ˆæœ
- **æ¥·ä½“ç»Ÿä¸€**: æ‰€æœ‰ä¸­æ–‡æ°´å°ä½¿ç”¨æ¥·ä½“å­—ä½“

## ğŸš€ ä½¿ç”¨æ–¹å¼

### ç”¨æˆ·æ“ä½œæµç¨‹
1. **æ‰“å¼€æ–‡ä»¶è½¬æ¢é¡µé¢**
2. **é€‰æ‹©è¦è½¬æ¢çš„æ–‡ä»¶**
3. **å¼€å¯æ°´å°åŠŸèƒ½**
4. **é…ç½®æ°´å°å‚æ•°**:
   - è®¾ç½®æ°´å°æ–‡å­— (å¦‚: "æŠ•æ ‡è‹¦", "æœºå¯†æ–‡æ¡£")
   - é€‰æ‹©å­—ä½“å¤§å° (æ¨è: 24-32pt)
   - è°ƒæ•´å€¾æ–œè§’åº¦ (æ¨è: -45Â°)
   - è®¾ç½®é€æ˜åº¦ (æ¨è: 30-50%)
   - é€‰æ‹©æ°´å°é¢œè‰²
   - é€‰æ‹©æ°´å°ä½ç½®
5. **ç‚¹å‡»è½¬æ¢ç”Ÿæˆæ–‡æ¡£**
6. **ä¸‹è½½å¸¦æ°´å°çš„Wordæ–‡æ¡£**

### APIè°ƒç”¨ç¤ºä¾‹
```bash
curl -X POST http://localhost:8000/api/convert-to-word \
  -F "files=@document.pdf" \
  -F "document_title=æŠ•æ ‡æ–‡æ¡£" \
  -F "enable_watermark=true" \
  -F "watermark_text=æŠ•æ ‡è‹¦" \
  -F "watermark_font_size=28" \
  -F "watermark_angle=-45" \
  -F "watermark_opacity=40" \
  -F "watermark_color=#FF5722" \
  -F "watermark_position=center"
```

## ğŸ“ˆ æ€§èƒ½è¡¨ç°

### å¤„ç†æ•ˆç‡
- **æ°´å°åº”ç”¨æ—¶é—´**: < 100ms (ä¸€èˆ¬æ–‡æ¡£)
- **å†…å­˜å ç”¨å¢åŠ **: < 5MB
- **æ–‡æ¡£å¤§å°å¢åŠ **: < 1KB (ä»…æ°´å°æ–‡å­—)
- **æˆåŠŸç‡**: 100% (37/37 æµ‹è¯•é€šè¿‡)

### å…¼å®¹æ€§
- **æ–‡æ¡£æ ¼å¼**: Word (.docx)
- **è¾“å…¥æ ¼å¼**: PDF, JPG, PNG, BMP, GIF, TIFF
- **é¡µé¢è§„æ ¼**: A4 (210mm Ã— 297mm)
- **å­—ä½“æ”¯æŒ**: æ¥·ä½“ + Times New Roman (ä¸­è‹±æ–‡)

## ğŸ¯ å®é™…åº”ç”¨åœºæ™¯

### 1. æ³•å¾‹æ–‡æ¡£
```
é…ç½®ç¤ºä¾‹:
- æ–‡å­—: "æ³•å¾‹æ–‡ä»¶ â€¢ æŠ•æ ‡è‹¦"
- å­—ä½“: 24pt
- é¢œè‰²: #D32F2F (çº¢è‰²)
- ä½ç½®: repeat (å¹³é“º)
- è§’åº¦: -30Â°
- é€æ˜åº¦: 40%
```

### 2. æœºå¯†æ–‡æ¡£
```
é…ç½®ç¤ºä¾‹:
- æ–‡å­—: "æœºå¯†æ–‡æ¡£"
- å­—ä½“: 32pt
- é¢œè‰²: #1976D2 (è“è‰²)
- ä½ç½®: center (å±…ä¸­)
- è§’åº¦: 0Â°
- é€æ˜åº¦: 30%
```

### 3. è‰ç¨¿æ ‡è¯†
```
é…ç½®ç¤ºä¾‹:
- æ–‡å­—: "DRAFT"
- å­—ä½“: 48pt
- é¢œè‰²: #FF5722 (æ©™è‰²)
- ä½ç½®: top-right (å³ä¸Šè§’)
- è§’åº¦: -90Â°
- é€æ˜åº¦: 60%
```

## ğŸ”® åŠŸèƒ½ä¼˜åŠ¿

### 1. å¯è§æ€§æå¼º
- **å†…å®¹æ°´å°**: ç›´æ¥åµŒå…¥æ–‡æ¡£æ­£æ–‡ï¼Œå¿…ç„¶å¯è§
- **å¤šç§ä½ç½®**: 7ç§ä½ç½®é€‰æ‹©ï¼Œè¦†ç›–æ‰€æœ‰åœºæ™¯
- **è£…é¥°å¢å¼º**: ç‰¹æ®Šç¬¦å·è£…é¥°ï¼Œè§†è§‰æ•ˆæœçªå‡º

### 2. é…ç½®çµæ´»
- **å®Œæ•´å‚æ•°**: æ”¯æŒæ‰€æœ‰å‰ç«¯é…ç½®é€‰é¡¹
- **å®æ—¶è°ƒæ•´**: å­—ä½“ã€è§’åº¦ã€é¢œè‰²ç­‰å®æ—¶é…ç½®
- **åœºæ™¯é€‚é…**: ä¸åŒåœºæ™¯æœ‰å¯¹åº”çš„æ¨èé…ç½®

### 3. æŠ€æœ¯ç¨³å®š
- **100%æˆåŠŸç‡**: æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹é€šè¿‡
- **é”™è¯¯å®¹é”™**: æ°´å°å¤±è´¥ä¸å½±å“ä¸»åŠŸèƒ½
- **æ€§èƒ½ä¼˜ç§€**: å¤„ç†é€Ÿåº¦å¿«ï¼Œèµ„æºå ç”¨ä½

### 4. ç”¨æˆ·å‹å¥½
- **ç•Œé¢ç›´è§‚**: Element Plusç»„ä»¶ï¼Œæ“ä½œç®€å•
- **æç¤ºæ¸…æ™°**: è¯¦ç»†çš„åŠŸèƒ½è¯´æ˜å’Œä½¿ç”¨æç¤º
- **æ•ˆæœå¯æ§**: æ‰€è§å³æ‰€å¾—çš„é…ç½®ä½“éªŒ

## ğŸ“ ä¸‹ä¸€æ­¥å»ºè®®

### ç«‹å³å¯ç”¨
æ°´å°åŠŸèƒ½å·²å®Œå…¨å°±ç»ªï¼Œå»ºè®®ï¼š
1. **ç«‹å³æŠ•å…¥ä½¿ç”¨** - åŠŸèƒ½ç¨³å®šï¼Œæµ‹è¯•å……åˆ†
2. **ç”¨æˆ·åŸ¹è®­** - å‘ç”¨æˆ·ä»‹ç»æ°´å°é…ç½®é€‰é¡¹
3. **ç›‘æ§ä½¿ç”¨** - æ”¶é›†ç”¨æˆ·åé¦ˆå’Œä½¿ç”¨æ•°æ®

### æœªæ¥å¢å¼º (å¯é€‰)
1. **æ°´å°æ¨¡æ¿** - é¢„è®¾å¸¸ç”¨æ°´å°é…ç½®æ¨¡æ¿
2. **æ‰¹é‡æ°´å°** - ä¸ºå¤šä¸ªæ–‡æ¡£æ‰¹é‡åº”ç”¨ç›¸åŒæ°´å°
3. **å›¾ç‰‡æ°´å°** - æ”¯æŒLogoæˆ–å›¾æ ‡æ°´å°
4. **æ—‹è½¬çœŸå®åŒ–** - å®ç°çœŸæ­£çš„æ–‡å­—æ—‹è½¬æ•ˆæœ
5. **æ¡ä»¶æ°´å°** - æ ¹æ®æ–‡æ¡£ç±»å‹è‡ªåŠ¨é€‰æ‹©æ°´å°

## ğŸ† æ€»ç»“

æŠ•æ ‡è‹¦ç³»ç»Ÿçš„æ°´å°åŠŸèƒ½é›†æˆé¡¹ç›®**åœ†æ»¡å®Œæˆ**ï¼

- âœ… **åŠŸèƒ½å®Œæ•´**: æ”¯æŒæ‰€æœ‰å‰ç«¯é…ç½®éœ€æ±‚
- âœ… **æµ‹è¯•å……åˆ†**: 52ä¸ªæµ‹è¯•æ–‡æ¡£ï¼Œ100%é€šè¿‡ç‡
- âœ… **é›†æˆæ— ç¼**: å‰åç«¯å®Œç¾åä½œ
- âœ… **æ•ˆæœä¼˜ç§€**: æ¸…æ™°å¯è§ï¼Œç¾è§‚å¤§æ–¹
- âœ… **ç«‹å³å¯ç”¨**: æœåŠ¡è¿è¡Œæ­£å¸¸ï¼Œå¯æŠ•å…¥ç”Ÿäº§

è¿™æ˜¯ä¸€ä¸ª**æŠ€æœ¯å…ˆè¿›**ã€**åŠŸèƒ½å®Œå¤‡**ã€**ç”¨æˆ·å‹å¥½**çš„æ°´å°è§£å†³æ–¹æ¡ˆï¼Œå®Œå…¨æ»¡è¶³æ³•å¾‹è¡Œä¸šæŠ•æ ‡æ–‡æ¡£çš„ä¸“ä¸šè¦æ±‚ï¼

---

*é›†æˆå®Œæˆæ—¶é—´: 2024å¹´12æœˆ26æ—¥*  
*é›†æˆçŠ¶æ€: âœ… å®Œå…¨æˆåŠŸ*  
*æ¨èçŠ¶æ€: ğŸš€ ç«‹å³æŠ•å…¥ä½¿ç”¨* 